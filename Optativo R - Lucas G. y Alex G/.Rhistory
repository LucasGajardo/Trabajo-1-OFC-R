load("C:/Users/lucas/Downloads/R_trabajo_final_estadistica.R")
#
## Ajustes iniciales -------------------------------------------------------
rm(list=(ls())) # Limpiar la memoria de trabajo
options(scipen=999)#Desactivar notación cientifica
# Seteo de Directorio -----------------------------------------------------
getwd()
setwd("~/Estadìstica II - Ayudantia 30-11")
# Seteo de Directorio -----------------------------------------------------
getwd()
setwd(C:/Users/lucas/Downloads/Estadìstica II - Ayudantia 30-11)
## Instalar y activar los paquetes necesarios para el práctico.
install.packages("pacman")
#### 1. Primeros pasos ####
# Desactivamos notación científica
options(scipen = 999) #Desactivar la notación científica
# Establecer el directorio de trabajo
setwd("C:/Users/alexg/OneDrive/Escritorio/Estadistica II/Practico III")
# Establecer el directorio de trabajo
setwd("C:/Users/alexg/OneDrive/Escritorio/Estadistica II/Practico III")
library(pacman) #llamamos al paquete
#Ahora podemos instalar paquetes mas fácilmente
pacman::p_load(dplyr,
car,
tidyverse,
haven,
plotrix,
sjlabelled,
sjmisc,
sjPlot,
kableExtra,
labelled,
xlsx,
ggplot2,
summarytools,
knitr)
# Carga de base de datos
Base_VIF <- read_sav(file = "Estadistica II, Practico 3_BBDD_VIF (2017)_RM_para practico.sav") # Encuesta Casen 2022
library(pacman) #llamamos al paquete
#Ahora podemos instalar paquetes mas fácilmente
pacman::p_load(dplyr,
car,
tidyverse,
haven,
plotrix,
sjlabelled,
sjmisc,
sjPlot,
kableExtra,
labelled,
xlsx,
ggplot2,
summarytools,
knitr)
# Carga de base de datos
Base_VIF <- read_sav(file = "Estadistica II, Practico 3_BBDD_VIF (2017)_RM_para practico.sav") # Encuesta Casen 2022
#### 1. Primeros pasos ####
# Desactivamos notación científica
options(scipen = 999) #Desactivar la notación científica
# Establecer el directorio de trabajo
setwd("C:/Users/alexg/OneDrive/Escritorio/Estadistica II/Practico III")
```{#### 1. Primeros pasos ####}
```{#### 1. Primeros pasos ####}
```{#### 1. Primeros pasos ####}
```{#### 1. Primeros pasos ####}
```{#### 1. Primeros pasos ####}
#### 1. Primeros pasos ####
# Desactivamos notación científica
options(scipen = 999) #Desactivar la notación científica
# Establecer el directorio de trabajo
setwd("C:/Users/alexg/OneDrive/Escritorio/Estadistica II/Practico III")
# Establecer el directorio de trabajo
setwd("C:/Users/lucas/Documents/Optativo R - Lucas G. y Alex G")
library(pacman) #llamamos al paquete
#Ahora podemos instalar paquetes mas fácilmente
pacman::p_load(dplyr,
car,
tidyverse,
haven,
plotrix,
sjlabelled,
sjmisc,
sjPlot,
kableExtra,
labelled,
xlsx,
ggplot2,
summarytools,
knitr)
# Carga de base de datos
Base_VIF <- read_sav(file = "Estadistica II, Practico 3_BBDD_VIF (2017)_RM_para practico.sav") # Encuesta Casen 2022
library(haven)
Base_VIF <- read_sav("Estadistica II, Practico 3_BBDD_VIF (2017)_RM_para practico (1).sav")
View(Base_VIF)
# Carga de base de datos
Base_VIF <- read_sav(file = "Estadistica II, Practico 3_BBDD_VIF (2017)_RM_para practico.sav") # Encuesta Casen 2022
# Carga de base de datos
Base_VIF <- read_sav(file = "Estadistica II, Practico 3_BBDD_VIF (2017)_RM_para practico.sav") # Encuesta Casen 2022
#View(Base_ENDH)
names(Base_VIF)
#### 3. Manipulación de datos ####
# Seleccionar variables: Selección de 3 variables cuantitativas y 2 cualitativas
Base_VIF <- select(Base_VIF, IND_MASC, IND_DEPECON)
#Se eliminan los casos perdidos
##Para la variable IND_MASC
Base_VIF$IND_MASC <- na_if(Base_VIF$IND_MASC, -99)
Base_VIF$IND_MASC <- na_if(Base_VIF$IND_MASC, -88)
#Se eliminan los casos perdidos
#Para la variable IND_DEPECON
Base_VIF$IND_DEPECON  <- na_if(Base_VIF$IND_DEPECON , -99)
Base_VIF$IND_DEPECON  <- na_if(Base_VIF$IND_DEPECON , -88)
Base_VIF <- na.omit(Base_VIF)
#################################
#################################
####################################
#2.6 Frecuencias#
#Frecuencia Absoluta
table(Base_VIF$IND_MASC)
fa <- table(Base_VIF$IND_MASC)
#2.7 Proporciones o frecuencia relativa
prop.table(fa)
prop <- prop.table(fa)
prop <- round(prop, 3) ##aqui se esta redondeando a 3 decimales
prop*100
porcentaje <- prop*100
tabla <- data.frame("Categoria" = names(fa),
"Frecuencia" = as.numeric(fa),
"Proporción" = as.numeric(prop),
"Porcentaje" = as.numeric(porcentaje))
tabla_fila_total <- data.frame("Categoria" = "Total",
"Frecuencia" = sum(fa),
"Proporción" = sum(prop),
"Porcentaje" = sum(porcentaje))
tabla1 <- rbind(tabla, tabla_fila_total)
#### 3. Gráficos ####
# Recodificar las categorías de la variable Monto de jubilacion o pension de vejez con PGU (agrupar en cuatro categorías)
Base_VIF <- mutate(Base_VIF, grado_de_acuerdo_estereotipos_masculinos = case_when(IND_MASC >= 0 & IND_MASC <= 20 ~ 1,
IND_MASC >= 21 & IND_MASC <= 40  ~ 2,
IND_MASC >= 41 & IND_MASC <= 60 ~ 3))
# Etiquetar los valores
Base_VIF$grado_de_acuerdo_estereotipos_masculinos <- factor(Base_VIF$grado_de_acuerdo_estereotipos_masculinos,
levels = c(1, 2 ,3),
labels = c("Bajo grado de acuerdo", "Medio grado de acuerdo", "Alto grado de acuerdo"))
levels(Base_VIF$grado_de_acuerdo_estereotipos_masculinos)
# Etiquetar los valores
Base_VIF$IND_DEPECON <- factor(Base_VIF$IND_DEPECON,
levels = c(0, 1 ,2),
labels = c("Independencia", "Mediana dependencia", "Alta dependencia"))
levels(Base_VIF$IND_DEPECON)
#########################
### 3.2. Graficos de barras de frecuencias absolutas para la variable grado_de_acuerdo_estereotipos_masculinos
ggplot(Base_VIF, aes(x = factor(grado_de_acuerdo_estereotipos_masculinos))) +
geom_bar(width = 0.4, fill=rgb(0.1,1,0.5,0.7)) +
scale_x_discrete("Grado de acuerdo a estereotipos masculinos",
na.translate = FALSE) +
scale_y_continuous("Frecuencia") +
labs(title = "Frecuencia de interes político",
subtitle = "Frecuencia absoluta de la variable grado_de_acuerdo_estereotipos_masculinos")
### 3.3. Gráficos de barras barras de frecuencias relativas para la variable grado_de_acuerdo_estereotipos_masculinos <- Se hara uso solamente de este grafico de barras en el trabajo escrito (Por cuestiones de preferencia y evitar repetición de informacion)
ggplot(Base_VIF, aes(x = factor(grado_de_acuerdo_estereotipos_masculinos))) +
geom_bar(width = 0.4, fill=rgb(0.1,0.3,0.8,0.7),
aes(y = (..count..)/sum(..count..))) +
scale_x_discrete("Grado de acuerdo a estereotipos masculinos", na.translate = FALSE) +
scale_y_continuous("Porcentaje", labels=scales::percent, limits=c(0,1)) +
labs(title = "Figura 1. Frecuencia de grado de acuerdo a estereotipos masculinos",
subtitle = "Porcentajes de la variable grado_de_acuerdo_estereotipos_masculinos")
### 3.3. Gráficos de barras barras de frecuencias relativas para la variable grado_de_acuerdo_estereotipos_masculinos <- Se hara uso solamente de este grafico de barras en el trabajo escrito (Por cuestiones de preferencia y evitar repetición de informacion)
ggplot(Base_VIF, aes(x = factor(grado_de_acuerdo_estereotipos_masculinos))) +
geom_bar(width = 0.4, fill=rgb(0.1,0.3,0.8,0.7),
aes(y = (..count..)/sum(..count..))) +
scale_x_discrete("Grado de acuerdo a estereotipos masculinos", na.translate = FALSE) +
scale_y_continuous("Porcentaje", labels=scales::percent, limits=c(0,1)) +
labs(title = "Figura 1. Frecuencia de grado de acuerdo a estereotipos masculinos",
subtitle = "Porcentajes de la variable grado_de_acuerdo_estereotipos_masculinos")
### 3.3. Gráficos de barras barras de frecuencias relativas para la variable IND_DEPECON <- Se hara uso solamente de este grafico de barras en el trabajo escrito (Por cuestiones de preferencia y evitar repetición de informacion)
ggplot(Base_VIF, aes(x = factor(IND_DEPECON))) +
geom_bar(width = 0.4, fill=rgb(0.1,0.3,0.8,0.7),
aes(y = (..count..)/sum(..count..))) +
scale_x_discrete("Indice de dependencia económica", na.translate = FALSE) +
scale_y_continuous("Porcentaje", labels=scales::percent, limits=c(0,1)) +
labs(title = "Figura 2. Frecuencia de Indice de dependencia económica",
subtitle = "Porcentajes de la variable IND_DEPECON")
tabla_contingencia <- tab_xtab(var.row = Base_VIF$IND_DEPECON, var.col = Base_VIF$grado_de_acuerdo_estereotipos_masculinos,
title = "Figura 3. Tabla 1. Tabla de contingencia: Indice de dependencia econonomica segun Grado de acuerdo a estereotipos masculinos.", var.labels = c("Indice de dependencia economica", "Grado de acuerdo a estereotipos masculinos"),
show.row.prc = FALSE, show.cell.prc = FALSE, show.col.prc = TRUE, show.summary = FALSE)
tabla_contingencia
# Carga de base de datos
Base_VIF <- read_sav(file = "Estadistica II, Practico 3_BBDD_VIF (2017)_RM_para practico.sav") # Encuesta Casen 2022
# Carga de base de datos
Base_VIF <- read_sav(file = "Estadistica II, Practico 3_BBDD_VIF (2017)_RM_para practico.sav") # Encuesta Casen 2022
# Carga de base de datos
Base_VIF <- read_sav(file = "Estadistica II, Practico 3_BBDD_VIF (2017)_RM_para practico.sav") # Encuesta Casen 2022
